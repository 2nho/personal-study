<일반적인 네트워크 환경>

본 포스팅에서 설명하는 내용을 이해하기 위해 일반적인 네트워크 환경에 대해서 아주 간단히 설명한다. 
일반적인 사무공간이라면 아래와 같이 라우터 및 VPN을 통해 인터넷 회선이 사무공간으로 들어올 것이다. 
이때 스위치 허브라는 장비를 통해 각 컴퓨터는 고유한 IP 주소를 할당받게 된다. 
여기서 각 컴퓨터가 할당받는 IP 주소는 사무실 외부에서는 접근이 되지 않으며 사무실 내부에서만 서로 연결이 가능할 것이다.
예를 들면, 사무실에서 사용하는 컴퓨터의 파일을 집에서 공유받을 수 없지만, 같은 사무 공간의 컴퓨터에서는 파일을 공유받을 수 있다. 이렇게 네트워크 접근이 가능한 컴퓨터를 '같은 대역의 IP'를 사용한다고 일반적으로 표현한다.
![다운로드](https://user-images.githubusercontent.com/97571604/173190581-057a6202-17b7-4bee-bbcd-39ab418b98d0.png)


<NAT 방식 네트워크>

자신의 컴퓨터에 가상 머신을 구축하고 NAT 방식으로 네트워크를 구성한다면, 
해당 컴퓨터는 또 하나의 사무공간처럼 네트워크가 동작할 것이다.
다시 말해, 컴퓨터 안에 또 하나의 네트워크 대역이 구성되는 셈이다. 
아래의 그림에서 부연설명을 하자면, 사무공간의 컴퓨터는 라우터 외부의 컴퓨터에서는 접근이 안된다. 라우터 외부의 컴퓨터는 사무공간의 컴퓨터와 IP 대역이 서로 다르기 때문이다. 반대로, 사무공간의 컴퓨터끼리는 서로 접근이 가능하다. 사무공간의 컴퓨터끼리는 같은 네트워크 대역으로 묶여있기 때문이다.
위에서 설명한 내용의 연장선으로, NAT 방식 네트워크로 구성된 가상 머신은 사무실의 다른 컴퓨터와 IP 대역이 다르게 구성된다. 그렇기 때문에 서로 접근이 불가능하며, 같은 IP 대역으로 구성된 가상 머신끼리는 접근이 가능하다. 가상 머신을 설치한 컴퓨터가 스위치 허브로부터 IP 주소를 할당받는 것과 별개로, 가상 머신에게 새로운 대역의 IP를 발급해주는 것으로 이해하면 쉽다.
![다운로드 (1)](https://user-images.githubusercontent.com/97571604/173190594-734235fe-3e09-45d1-8aff-51d61c5082f5.png)

<Bridged 방식 네트워크>

Bridged 방식으로 네트워크를 구성한다면, 자신의 컴퓨터가 하나의 다리(Bridge) 역할을 하게 된다.
자세히 설명하면, 컴퓨터가 스위치 허브로부터 자신의 IP 대역과 동일한 IP 주소를 가상 머신 대신 받아오는 형태다.
대신 할당받아온 IP 주소를 가상 머신에게 부여함으로써 Bridged 방식으로 구성된 가상 머신은 다른 컴퓨터에서도 접근이 가능하게 된다.
보통, 해당 방식으로 네트워크를 구성하는 경우는 사무공간에서 다른 사용자에게 서비스를 제공하기 위한 목적으로 설정한다.
예를 들면, 파일 공유 서버나 혹은 공지사항 웹페이지 등을 서비스할 때 Bridged 방식으로 네트워크를 구성한다.
![다운로드 (2)](https://user-images.githubusercontent.com/97571604/173190595-1cbfa6a9-237c-4219-af1c-dfa3b1ed7a57.png)

출처: https://wookoa.tistory.com/107 [Wookoa:티스토리]

nat : 사설ip -> 공인 ip    -  공인 ip - > 사설ip  패킷을 주고 받을 때 변환 
DHCP : 공유기 등에서 사설 ip 동적으로 할당  
